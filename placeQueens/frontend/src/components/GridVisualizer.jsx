import React from 'react';
import './GridVisualizer.css'; // Import the CSS file

// Define your Global Color Map
// IMPORTANT: Customize these colors to your liking
const COLOR_MAP = [
    '#FFFFFF', // 0: White (Empty/Unvisited)
    '#FF0000', // 1: Red (Origin/Seed Point)
    '#1F77B4', // 2: Blue
    '#FF7F0E', // 3: Orange
    '#2CA02C', // 4: Green
    '#D62728', // 5: Red
    '#9467BD', // 6: Purple
    '#8C564B', // 7: Brown
    '#E377C2', // 8: Pink
    '#7F7F7F', // 9: Gray
    '#4E8C3C', // 10: Dark Green
    '#8BC34A', // 11: Light Green
    '#CDDC39', // 12: Lime Green
    '#FFC107', // 13: Amber
    '#FF9800', // 14: Orange
    '#F44336', // 15: Red-Orange
    '#2196F3', // 16: Deep Blue
    '#00BCD4', // 17: Cyan
    '#673AB7', // 18: Deep Purple
    '#9C27B0', // 19: Purple
    '#009688', // 20: Teal
    '#FFEB3B', // 21: Yellow
    '#795548', // 22: Brown
    '#607D8B', // 23: Blue Gray
    '#E91E63', // 24: Pink
    '#7F6000', // 25: Dark Yellow
    '#4A148C', // 26: Very Dark Purple
    '#004D40', // 27: Dark Teal
    '#BF360C', // 28: Dark Red
    '#FF8A80', // 29: Light Pink
    '#4CAF50', // 30: Medium Green
    '#9E9D24', // 31: Olive
    '#4DD0E1', // 32: Light Cyan
    '#BA68C8', // 33: Light Purple
    '#B0BEC5', // 34: Light Blue Gray
    // Add more colors if your regions go higher than 34
];

// Paste your full 25x25 matrix here:
const GRID_MATRIX = [
["Q",1,1,1,3,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,9,9],
[2,2,"Q",1,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,9,9],
[2,2,2,1,"Q",3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,9,9],
[4,"Q",2,1,1,1,3,1,3,3,3,7,7,8,8,8,8,8,8,8,8,8,8,9,9],
[4,2,2,"Q",5,1,3,1,3,3,7,7,7,8,8,8,8,8,8,8,8,8,9,9,9],
[2,2,2,1,1,1,1,1,"Q",7,7,7,7,8,8,8,8,8,8,9,9,9,9,9,9],
[2,2,2,1,1,1,1,6,6,6,"Q",7,7,8,8,8,8,8,9,9,9,9,9,9,9],
[2,2,2,1,1,1,1,6,6,7,7,7,"Q",8,8,9,8,9,9,9,9,9,9,9,9],
[2,2,2,1,1,1,1,7,7,7,7,7,7,9,9,9,"Q",9,9,9,10,10,10,9,9],
[2,2,2,1,1,1,1,7,7,7,7,7,7,9,9,9,9,9,"Q",10,10,10,10,10,9],
[2,2,2,2,1,1,1,7,7,7,7,7,7,7,9,9,9,9,10,10,10,10,10,10,"Q"],
[2,2,2,2,2,15,1,7,7,7,7,7,7,7,9,9,11,11,10,11,11,"Q",11,11,11],
[2,2,2,2,15,15,15,7,7,7,7,7,19,19,19,11,11,11,11,11,11,11,11,"Q",13],
[2,2,2,15,15,15,15,15,15,19,19,19,19,19,19,11,11,11,11,11,"Q",13,13,13,13],
[2,2,15,15,15,15,15,"Q",15,19,19,19,19,19,19,11,11,11,11,11,13,13,17,17,17],
[15,15,15,15,15,"Q",16,16,15,15,18,19,19,19,19,19,11,11,11,11,13,17,17,17,17],
[15,15,15,15,15,15,15,16,15,18,18,18,19,19,19,19,19,19,11,11,13,13,"Q",17,17],
[15,15,15,15,15,15,15,16,15,18,18,"Q",18,19,19,19,19,19,13,13,13,13,13,17,17],
[15,15,15,15,15,15,15,15,15,18,18,18,18,"Q",19,19,19,19,13,13,13,13,13,17,17],
[20,20,20,20,15,15,"Q",18,18,18,18,18,18,23,23,23,23,23,13,13,13,13,13,13,13],
[20,20,20,20,20,20,20,18,18,18,18,18,23,23,23,23,23,"Q",13,13,21,21,21,13,13],
[22,20,20,20,20,20,22,22,22,"Q",18,18,23,23,23,23,23,21,21,21,21,21,21,21,21],
[22,22,22,22,22,22,22,25,25,25,18,18,23,23,"Q",23,23,21,21,21,21,21,21,21,21],
[22,22,22,22,22,22,22,25,25,25,25,25,25,25,25,25,25,21,24,"Q",21,21,21,21,21],
[22,22,22,22,22,25,25,25,25,25,25,25,25,25,25,"Q",25,21,21,21,21,21,21,21,21],

]
// const GRID_MATRIX = [
//    ["Q",1,1,1,3,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,9,9],
// [2,2,"Q",1,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,9,9],
// [2,2,2,1,"Q",3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,9,9],
// [4,"Q",2,1,1,1,3,1,3,3,3,7,7,8,8,8,8,8,8,8,8,8,8,9,9],
// [4,2,2,"Q",5,1,3,1,3,3,7,7,7,8,8,8,8,8,8,8,8,8,9,9,9],
// [2,2,2,1,1,1,1,1,"Q",7,7,7,7,8,8,8,8,8,8,9,9,9,9,9,9],
// [2,2,2,1,1,1,1,6,6,6,"Q",7,7,8,8,8,8,8,9,9,9,9,9,9,9],
// [2,2,2,1,1,1,1,6,6,7,7,7,"Q",8,8,9,8,9,9,9,9,9,9,9,9],
// [2,2,2,1,1,1,1,7,7,7,7,7,7,9,9,9,"Q",9,9,9,10,10,10,9,9],
// [2,2,2,1,1,1,1,7,7,7,7,7,7,9,9,9,9,9,"Q",10,10,10,10,10,9],
// [2,2,2,2,1,1,1,7,7,7,7,7,7,7,9,9,9,9,10,10,10,10,10,10,"Q"],
// [2,2,2,2,2,15,1,7,7,7,7,7,7,7,9,9,11,11,10,11,11,"Q",11,11,11],
// [2,2,2,2,15,15,15,7,7,7,7,7,19,19,19,11,11,11,11,11,11,11,11,"Q",13],
// [2,2,2,15,15,15,15,15,15,19,19,19,19,19,19,11,11,11,11,11,"Q",13,13,13,13],
// [2,2,15,15,15,15,15,"Q",15,19,19,19,19,19,19,11,11,11,11,11,13,13,17,17,17],
// [15,15,15,15,15,"Q",16,16,15,15,18,19,19,19,19,19,11,11,11,11,13,17,17,17,17],
// [15,15,15,15,15,15,15,16,15,18,18,18,19,19,19,19,19,19,11,11,13,13,"Q",17,17],
// [15,15,15,15,15,15,15,16,15,18,18,"Q",18,19,19,19,19,19,13,13,13,13,13,17,17],
// [15,15,15,15,15,15,15,15,15,18,18,18,18,"Q",19,19,19,19,13,13,13,13,13,17,17],
// [20,20,20,20,15,15,"Q",18,18,18,18,18,18,23,23,23,23,23,13,13,13,13,13,13,13],
// [20,20,20,20,20,20,20,18,18,18,18,18,23,23,23,23,23,"Q",13,13,21,21,21,13,13],
// [22,20,20,20,20,20,22,22,22,"Q",18,18,23,23,23,23,23,21,21,21,21,21,21,21,21],
// [22,22,22,22,22,22,22,25,25,25,18,18,23,23,"Q",23,23,21,21,21,21,21,21,21,21],
// [22,22,22,22,22,22,22,25,25,25,25,25,25,25,25,25,25,21,24,"Q",21,21,21,21,21],
// [22,22,22,22,22,25,25,25,25,25,25,25,25,25,25,"Q",25,21,21,21,21,21,21,21,21],


// ]


function GridVisualizer() {
    // Determine the number of rows and columns dynamically
    const rows = GRID_MATRIX.length;
    const cols = rows > 0 ? GRID_MATRIX[0].length : 0;

    // CSS variable calculation for grid columns. Sets the grid to N columns.
    const gridStyle = {
        '--grid-cols': cols,
    };
    const ORIGIN_COLOR = "#000000";

    return (
        <div className="grid-visualizer-container">
            <h2>Path Finding Visualization ({rows} x {cols})</h2>
            <div id="grid-container" style={gridStyle}>
                {GRID_MATRIX.map((row, rIdx) =>
                    row.map((cellValue, cIdx) => {
                        let color;
                        if (cellValue === "Q") {
                            // If the value is the string "Q", use the dedicated origin color
                            color = ORIGIN_COLOR;
                        } else {
                            // Otherwise, treat the cellValue as a number (index into COLOR_MAP)
                            // The unary plus (+) ensures cellValue is treated as a number for indexing
                            const numericValue = +cellValue;
                            color = COLOR_MAP[numericValue] || COLOR_MAP[0];
                        }

                        // Tooltip for debugging
                        const tooltip = `(${rIdx + 1}, ${cIdx + 1}): ${cellValue}`;

                        return (
                            <div
                                key={`${rIdx}-${cIdx}`}
                                className="grid-cell"
                                style={{ backgroundColor: color }}
                                title={tooltip}
                            >
                                {cellValue}
                            </div>
                        );
                    })
                )}
            </div>
        </div>
    );
}

export default GridVisualizer;